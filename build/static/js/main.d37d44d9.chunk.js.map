{"version":3,"sources":["components/Person.js","components/Persons.js","components/PersonForm.js","components/Filter.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Person","_ref","person","deletePerson","react_default","a","createElement","key","name","number","onClick","Persons","persons","map","components_Person","PersonForm","addPerson","newName","newNumber","handleNameChange","handleNumberChange","onSubmit","value","onChange","type","Filter","searchName","handleSearchNameChange","Notification","message","styleName","style","color","fontStyle","fontSize","border","margin","padding","baseUrl","services_persons","axios","get","newObject","post","id","put","concat","delete","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setSearchName","_useState9","_useState10","errorMessage","setErrorMessage","_useState11","_useState12","setStyleName","useEffect","personService","then","response","data","personsToShow","length","filter","p","toLowerCase","includes","components_Notification","components_Filter","event","target","components_PersonForm","preventDefault","personObject","personExists","find","window","confirm","returnedPerson","catch","error","setTimeout","components_Persons","newPersons","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.d37d44d9.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Person = ({person, deletePerson}) =>  {\r\n    return(\r\n        <p key={person.name}>{person.name} {person.number} <button onClick={() => deletePerson(person)}>poista</button></p>\r\n    )\r\n}\r\n\r\nexport default Person","import React from 'react'\r\nimport Person from './Person'\r\n\r\nconst Persons = ({persons, deletePerson}) => {\r\n    const rows = () => persons.map(person =>\r\n    <Person person={person} key={person.name} deletePerson={deletePerson} />)\r\n    return (\r\n        <div>\r\n        {rows()}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Persons","import React from 'react'\r\n\r\nconst PersonForm = ({addPerson, newName, newNumber, handleNameChange, handleNumberChange}) => {\r\n    \r\n    return(\r\n        <form onSubmit={addPerson}>\r\n        <div>\r\n          nimi: <input value={newName} onChange={handleNameChange}/>\r\n          numero: <input value={newNumber} onChange={handleNumberChange} />\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">lisää</button>\r\n        </div>\r\n      </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Filter = ({searchName, handleSearchNameChange}) => {\r\n    return(\r\n        <p>rajaa näytettäviä: <input value={searchName} onChange={handleSearchNameChange}/></p>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst Notification =({message, styleName}) => {\r\n    if (message === null) {\r\n        return null\r\n    }\r\n    if (styleName===\"notification\") {\r\n        const style = {\r\n            color:'green',\r\n            fontStyle:'italic',\r\n            fontSize:16,\r\n            border: 'dotted',\r\n            margin:'10px',\r\n            padding:10\r\n        }\r\n        return (\r\n            <div style={style}>\r\n            {message}\r\n            </div>\r\n        )\r\n    } else {\r\n        const style = {\r\n            color:'red',\r\n            fontStyle:'italic',\r\n            fontSize:16,\r\n            border: 'solid'\r\n        }\r\n        return (\r\n            <div style={style}>\r\n            {message}\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default Notification","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    return axios.get(baseUrl)\r\n}\r\n\r\nconst create = newObject => {\r\n    return axios.post(baseUrl, newObject)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    return axios.put(`${baseUrl}/${id}`, newObject)\r\n}\r\n\r\nconst deleteObject = (id) => {\r\n    return axios.delete(`${baseUrl}/${id}`)\r\n}\r\n\r\nexport default { getAll, create, update, deleteObject }","import React, { useState, useEffect } from 'react'\r\nimport Persons from './components/Persons'\r\nimport PersonForm from './components/PersonForm'\r\nimport Filter from './components/Filter'\r\nimport Notification from './components/Notification'\r\nimport personService from './services/persons'\r\n\r\nconst App = () => {\r\n\r\n  const [ persons, setPersons ] = useState([])\r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber] = useState('')\r\n  const [ searchName, setSearchName ] = useState('')\r\n  const [ errorMessage, setErrorMessage ] = useState(null)\r\n  const [ styleName, setStyleName ] = useState(null)\r\n  \r\n  useEffect(() => {\r\n      personService\r\n        .getAll()\r\n        .then(response => {\r\n          setPersons(response.data)\r\n        })\r\n  }, [])\r\n\r\n  const addPerson = (event) => {\r\n      event.preventDefault()\r\n      const personObject = {\r\n          name: newName,\r\n          number: newNumber\r\n      }\r\n      let personExists = persons.find(person => person.name.toLowerCase() === personObject.name.toLowerCase())\r\n      if (personExists) {\r\n          if (window.confirm(`Henkilö ${personObject.name} on jo luettelossa. Korvataanko henkilön numero uudella?`)) {\r\n            personService\r\n              .update(personExists.id, personObject)\r\n              .then(returnedPerson => {\r\n                setPersons(persons.map(person => person.id !== personObject.id ? person : returnedPerson))\r\n              })\r\n              .catch(error => {\r\n                setPersons(persons.filter(p => p.id !== personExists.id))\r\n                setErrorMessage(`Henkilö ${personExists.name} on jo poistettu puhelinluettelosta`)\r\n                setStyleName('error')\r\n                setTimeout(() => {\r\n                  setErrorMessage(null)\r\n                }, 5000)\r\n              })\r\n            personExists.number = newNumber\r\n            setPersons(persons)\r\n            setErrorMessage(\r\n              `Henkilön ${personExists.name} numeroa muutettu`\r\n            )\r\n            setStyleName('notification')\r\n            setTimeout(() => {\r\n              setErrorMessage(null)\r\n            }, 5000)\r\n          }\r\n      } else {\r\n        personService\r\n          .create(personObject)\r\n          .then(response => {\r\n            setPersons(persons.concat(response.data))\r\n            setNewName('')\r\n            setNewNumber('')\r\n          })\r\n        setErrorMessage(\r\n          `Henkilö ${personObject.name} lisätty puhelinluetteloon`\r\n        )\r\n        setStyleName('notification')\r\n        setTimeout(() => {\r\n          setErrorMessage(null)\r\n        }, 5000)\r\n      }\r\n  }\r\n\r\n  const deletePerson = (person) => {\r\n    if (window.confirm(`Poistetaanko henkilö ${person.name} puhelinluettelosta?`)) {\r\n      personService\r\n        .deleteObject(person.id)\r\n      const newPersons = persons.filter(p=>p.id !== person.id)\r\n      setPersons(newPersons)\r\n      setErrorMessage(\r\n        `Henkilön ${person.name} numero poistettu`\r\n      )\r\n      setStyleName('notification')\r\n      setTimeout(() => {\r\n        setErrorMessage(null)\r\n      }, 5000)\r\n    }\r\n  }\r\n\r\n  const handleNameChange = (event) => {\r\n      setNewName(event.target.value)\r\n  }\r\n\r\n  const handleNumberChange = (event) => {\r\n      setNewNumber(event.target.value)\r\n  }\r\n\r\n  const handleSearchNameChange = (event) => {\r\n      setSearchName(event.target.value)\r\n  }\r\n\r\n  const personsToShow = searchName.length === 0\r\n    ? persons\r\n    : persons.filter(p => p.name.toLowerCase().includes(searchName.toLowerCase()))\r\n\r\n  return (\r\n    <div>\r\n      <h2>Puhelinluettelo</h2>\r\n      <Notification message={errorMessage} styleName={styleName} />\r\n      <Filter searchName={searchName} handleSearchNameChange={handleSearchNameChange} />\r\n      <PersonForm addPerson={addPerson} newName={newName} newNumber={newNumber} handleNameChange={handleNameChange} handleNumberChange={handleNumberChange}/>\r\n      <h2>Numerot</h2>\r\n      <Persons persons={personsToShow} deletePerson={deletePerson} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\n\n  ReactDOM.render(\n    <App />,\n    document.getElementById('root')\n  )"],"sourceRoot":""}